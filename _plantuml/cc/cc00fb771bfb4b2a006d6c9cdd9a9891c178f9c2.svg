<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="636px" preserveAspectRatio="none" style="width:1217px;height:636px;" version="1.1" viewBox="0 0 1217 636" width="1217px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="794" x="210.5" y="16.708">Component diagram for grand-challenge.org - Images, Evaluation and Algorithm Workers</text><!--MD5=[c26638a81821cf585a88e29a60357529]
cluster s1--><rect fill="#FFFFFF" height="418" style="stroke: #444444; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;" width="252" x="22" y="44.9531"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="83.5" y="61.8047">Celery Worker</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="80" x="108" y="76.7168">[Container]</text><!--MD5=[9f7ebba9369c1114423fee7bbf727ad7]
entity gc_algorithm_worker--><rect fill="#85BBF0" height="101.4844" style="stroke: #78A8D8; stroke-width: 1.5;" width="214" x="44" y="95.9531"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="142" x="80" y="120.8047">Web Application</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="100" x="101" y="135.7168">[Django, Celery]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="153" y="151.542"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="190" x="54" y="167.8389">Manages container lifecycle</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="181" x="60.5" y="184.1357">and generates job results.</text><!--MD5=[7c0f197cad09c4d86c8b8989e1030b9e]
entity docker--><rect fill="#85BBF0" height="101.4844" style="stroke: #78A8D8; stroke-width: 1.5;" width="219" x="38.5" y="345.9531"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="124" x="86" y="370.8047">Compute Pool</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="54" x="121" y="385.7168">[Docker]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="150" y="401.542"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="199" x="48.5" y="417.8389">Provides compute resources</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="145" x="75.5" y="434.1357">for container images.</text><!--MD5=[0e1fecc31e3549f2a1667c6349b56d9e]
entity postgres--><path d="M293,342.9531 C293,332.9531 397,332.9531 397,332.9531 C397,332.9531 501,332.9531 501,342.9531 L501,449.7344 C501,459.7344 397,459.7344 397,459.7344 C397,459.7344 293,459.7344 293,449.7344 L293,342.9531 " fill="#438DD5" style="stroke: #3C7FC0; stroke-width: 1.5;"/><path d="M293,342.9531 C293,352.9531 397,352.9531 397,352.9531 C397,352.9531 501,352.9531 501,342.9531 " fill="none" style="stroke: #3C7FC0; stroke-width: 1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="355.5" y="371.8047">Database</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="111" x="341.5" y="386.7168">[RDS/PostgreSQL]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="399" y="402.542"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="165" x="312.5" y="418.8389">Stores user information,</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="184" x="303" y="435.1357">medical imaging metadata,</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="346" y="451.4326">job results etc.</text><!--MD5=[a513f3882380e818dc123dc3fdc6a4a9]
entity protected_s3--><rect fill="#438DD5" height="101.4844" style="stroke: #3C7FC0; stroke-width: 1.5;" width="212" x="536" y="345.9531"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="192" x="546" y="370.8047">Protected Data Store</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="62" x="611" y="385.7168">[S3/Minio]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="644" y="401.542"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="174" x="553" y="417.8389">Stores protected medical</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="585.5" y="434.1357">imaging objects.</text><!--MD5=[eafe8fea6c5d5a360f2eb7027e2ff3b9]
entity private_s3--><rect fill="#438DD5" height="101.4844" style="stroke: #3C7FC0; stroke-width: 1.5;" width="185" x="783.5" y="345.9531"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="165" x="793.5" y="370.8047">Private Data Store</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="62" x="845" y="385.7168">[S3/Minio]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="878" y="401.542"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="797" y="417.8389">Stores private objects,</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="149" x="801.5" y="434.1357">container images etc.</text><!--MD5=[28c910e737dccacd09c95ffccfd81d7d]
entity message_queue--><rect fill="#438DD5" height="101.4844" style="stroke: #3C7FC0; stroke-width: 1.5;" width="180" x="1004" y="345.9531"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="143" x="1022.5" y="370.8047">Message Queue</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="73" x="1057.5" y="385.7168">[SQS/Redis]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1096" y="401.542"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="156" x="1014" y="417.8389">Queue of units of work</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="1032.5" y="434.1357">Celery messages.</text><!--MD5=[226ac0e6b34e57bc0d27f2bdcc9fff09]
link gc_algorithm_worker to message_queue--><path d="M258.28,147.1231 C452.21,148.2731 852.05,159.0931 971,226.9531 C1016.04,252.6531 1049.18,302.3131 1069.63,341.0931 " fill="none" id="gc_algorithm_worker-&gt;message_queue" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="1072.07,345.7631,1071.4846,335.9317,1069.7713,341.3228,1064.3802,339.6095,1072.07,345.7631" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138" x="1050" y="255.02">Fetches messages</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="35" x="1104" y="270.1528">from</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="149" x="1047" y="284.3574">[SSL, SQS/Redis, Celery]</text><!--MD5=[dbd8485b514621e62597ee8f1ca34996]
link gc_algorithm_worker to postgres--><path d="M258.14,189.2531 C276.84,199.6931 295.06,212.2131 310,226.9531 C338.36,254.9531 359.35,294.1431 373.6,327.6831 " fill="none" id="gc_algorithm_worker-&gt;postgres" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="375.66,332.5931,375.88,322.7467,373.7319,327.9799,368.4987,325.8318,375.66,332.5931" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="149" x="364" y="262.52">Reads and writes to</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="63" x="407" y="276.7246">[SSL, SQL]</text><!--MD5=[1afca29d41bd2858501bb17af5bb5c84]
link gc_algorithm_worker to private_s3--><path d="M258.07,151.9731 C406.62,159.8831 666.1,180.0931 747,226.9531 C792.49,253.3031 827.35,302.6331 849.29,341.1331 " fill="none" id="gc_algorithm_worker-&gt;private_s3" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="851.91,345.7731,850.9977,335.9666,849.4648,341.4118,844.0196,339.8789,851.91,345.7731" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="132" x="825" y="255.02">Fetches container</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94" x="846.5" y="270.1528">images from</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="73" x="857" y="284.3574">[HTTPS, S3]</text><!--MD5=[335845a35f701e09a526ba690b965bc4]
link gc_algorithm_worker to protected_s3--><path d="M258.03,150.0031 C336.75,156.4731 443.29,175.2131 522,226.9531 C564.39,254.8231 596.54,303.2331 616.84,341.0431 " fill="none" id="gc_algorithm_worker-&gt;protected_s3" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="619.25,345.5931,618.5639,335.7682,616.906,341.1766,611.4975,339.5186,619.25,345.5931" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="145" x="593" y="262.52">Reads objects from</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="73" x="629" y="276.7246">[HTTPS, S3]</text><!--MD5=[50d5ac5ef586a8cf5704cfe39bf1e998]
link gc_algorithm_worker to docker--><path d="M150.4,197.0431 C149.9,238.6031 149.18,297.8731 148.66,340.7931 " fill="none" id="gc_algorithm_worker-&gt;docker" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="148.6,345.9531,152.7282,337.0112,148.6714,340.9536,144.729,336.8969,148.6,345.9531" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="146" x="153.5" y="240.02">Provisions volumes,</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87" x="180.5" y="255.1528">instantiates</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="149" x="152" y="270.2856">containers with GPU</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="190" y="285.4185">access on</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="86" x="183.5" y="299.623">[HTTPS, JSON]</text><rect fill="#DDDDDD" height="128.0781" rx="5" ry="5" style="stroke: #000000; stroke-width: 1.0;" width="199" x="1007" y="496.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="1083" y="516.9482"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="39" x="1088" y="516.9482">Type</text><rect fill="#08427B" height="16.2969" style="stroke: none; stroke-width: 1.0;" width="70" x="1013" y="520.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1037" y="533.2451"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="1087" y="533.2451">person</text><rect fill="#686868" height="16.2969" style="stroke: none; stroke-width: 1.0;" width="70" x="1013" y="536.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1037" y="549.542"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="1087" y="549.542">external person</text><rect fill="#1168BD" height="16.2969" style="stroke: none; stroke-width: 1.0;" width="70" x="1013" y="552.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1025" y="565.8389"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="1087" y="565.8389">system</text><rect fill="#999999" height="16.2969" style="stroke: none; stroke-width: 1.0;" width="70" x="1013" y="569.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1037" y="582.1357"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="1087" y="582.1357">external system</text><rect fill="#438DD5" height="16.2969" style="stroke: none; stroke-width: 1.0;" width="70" x="1013" y="585.4375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1025" y="598.4326"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1087" y="598.4326">container</text><rect fill="#85BBF0" height="16.2969" style="stroke: none; stroke-width: 1.0;" width="70" x="1013" y="601.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1025" y="614.7295"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="1087" y="614.7295">component</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1013" x2="1200" y1="503.9531" y2="503.9531"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1013" x2="1200" y1="520.25" y2="520.25"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1013" x2="1200" y1="536.5469" y2="536.5469"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1013" x2="1200" y1="552.8438" y2="552.8438"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1013" x2="1200" y1="569.1406" y2="569.1406"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1013" x2="1200" y1="585.4375" y2="585.4375"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1013" x2="1200" y1="601.7344" y2="601.7344"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1013" x2="1200" y1="618.0313" y2="618.0313"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1013" x2="1013" y1="503.9531" y2="618.0313"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1083" x2="1083" y1="503.9531" y2="618.0313"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1200" x2="1200" y1="503.9531" y2="618.0313"/><!--MD5=[a0e3f640f08be8b57d4eafc57223701d]
@startuml





skinparam defaultTextAlignment center

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam rectangle {
    StereotypeFontSize 12
    shadowing false
}

skinparam database {
    StereotypeFontSize 12
    shadowing false
}

skinparam Arrow {
    Color #666666
    FontColor #666666
    FontSize 12
}

skinparam rectangle<<boundary>> {
    Shadowing false
    StereotypeFontSize 0
    FontColor #444444
    BorderColor #444444
    BorderStyle dashed
}






















skinparam rectangle<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}

skinparam rectangle<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}

skinparam rectangle<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}

skinparam rectangle<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}

skinparam database<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}

skinparam database<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}
















skinparam rectangle<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}

skinparam database<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}












skinparam rectangle<<component>> {
    StereotypeFontColor #FFFFFF
    FontColor #000000
    BackgroundColor #85BBF0
    BorderColor #78A8D8
}

skinparam database<<component>> {
    StereotypeFontColor #FFFFFF
    FontColor #000000
    BackgroundColor #85BBF0
    BorderColor #78A8D8
}






top to bottom direction
hide stereotype
legend right
|=              |= Type |
|<#08427B>      | person |
|<#686868>      | external person |
|<#1168BD>   | system |
|<#999999>      | external system |
|<#438DD5>   | container |
|<#85BBF0>   | component |
endlegend

title Component diagram for grand-challenge.org - Images, Evaluation and Algorithm Workers

rectangle "==Celery Worker\n<size:12>[Container]</size>" <<boundary>> as s1 {
    rectangle "==Web Application\n//<size:12>[Django, Celery]</size>//\n\n Manages container lifecycle and generates job results." <<component>> as gc_algorithm_worker
    rectangle "==Compute Pool\n//<size:12>[Docker]</size>//\n\n Provides compute resources for container images." <<component>> as docker
}

database "==Database\n//<size:12>[RDS/PostgreSQL]</size>//\n\n Stores user information, medical imaging metadata, job results etc." <<container>> as postgres
rectangle "==Protected Data Store\n//<size:12>[S3/Minio]</size>//\n\n Stores protected medical imaging objects." <<container>> as protected_s3
rectangle "==Private Data Store\n//<size:12>[S3/Minio]</size>//\n\n Stores private objects, container images etc." <<container>> as private_s3
rectangle "==Message Queue\n//<size:12>[SQS/Redis]</size>//\n\n Queue of units of work Celery messages." <<container>> as message_queue

gc_algorithm_worker - -> message_queue : "===Fetches messages from\n//<size:12>[SSL, SQS/Redis, Celery]</size>//"

gc_algorithm_worker - -> postgres : "===Reads and writes to\n//<size:12>[SSL, SQL]</size>//"
gc_algorithm_worker - -> private_s3 : "===Fetches container images from\n//<size:12>[HTTPS, S3]</size>//"
gc_algorithm_worker - -> protected_s3 : "===Reads objects from\n//<size:12>[HTTPS, S3]</size>//"

gc_algorithm_worker - -> docker : "===Provisions volumes, instantiates containers with GPU access on\n//<size:12>[HTTPS, JSON]</size>//"

@enduml

PlantUML version 1.2020.09(Sun May 10 10:51:06 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 17.0.12+7-Debian-2deb12u1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>