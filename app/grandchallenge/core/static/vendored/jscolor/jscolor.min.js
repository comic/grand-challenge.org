!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e):function(e){if(e.document)return t(e);throw new Error("jscolor needs a window with document")}:t(e)}("undefined"!=typeof window?window:this,function(c){"use strict";(b={initialized:!1,instances:[],readyQueue:[],register:function(){void 0!==c&&c.document&&c.document.addEventListener("DOMContentLoaded",b.pub.init,!1)},installBySelector:function(e,t){if(!(t=t?b.node(t):c.document))throw new Error("Missing root node");for(var r,n=t.querySelectorAll(e),o=new RegExp("(^|\\s)("+b.pub.lookupClass+")(\\s*(\\{[^}]*\\})|\\s|$)","i"),i=0;i<n.length;i+=1)if(!(n[i].jscolor&&n[i].jscolor instanceof b.pub)&&(void 0===n[i].type||"color"!=n[i].type.toLowerCase()||!b.isColorAttrSupported)&&(null!==(l=b.getDataAttr(n[i],"jscolor"))||n[i].className&&(r=n[i].className.match(o)))){var a=n[i],s="",l=(null!==l?s=l:r&&(console.warn('Installation using class name is DEPRECATED. Use data-jscolor="" attribute instead.'+b.docsRef),r[4]&&(s=r[4])),null);if(s.trim())try{l=b.parseOptionsStr(s)}catch(e){console.warn(e+"\n"+s)}try{new b.pub(a,l)}catch(e){console.warn(e)}}},parseOptionsStr:function(t){var r=null;try{r=JSON.parse(t)}catch(e){if(!b.pub.looseJSON)throw new Error("Could not parse jscolor options as JSON: "+e);try{r=new Function("var opts = ("+t+'); return typeof opts === "object" ? opts : {};')()}catch(e){throw new Error("Could not evaluate jscolor options: "+e)}}return r},getInstances:function(){for(var e=[],t=0;t<b.instances.length;t+=1)b.instances[t]&&b.instances[t].targetElement&&e.push(b.instances[t]);return e},createEl:function(e){e=c.document.createElement(e);return b.setData(e,"gui",!0),e},node:function(e){if(!e)return null;if("string"!=typeof e)return b.isNode(e)?e:(console.warn("Invalid node of type %s: %s",typeof e,e),null);var t=null;try{t=c.document.querySelector(e)}catch(e){return console.warn(e),null}return t||console.warn("No element matches the selector: %s",e),t},isNode:function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},nodeName:function(e){return!(!e||!e.nodeName)&&e.nodeName.toLowerCase()},removeChildren:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},isTextInput:function(e){return e&&"input"===b.nodeName(e)&&"text"===e.type.toLowerCase()},isButton:function(e){if(!e)return!1;var t=b.nodeName(e);return"button"===t||"input"===t&&-1<["button","submit","reset"].indexOf(e.type.toLowerCase())},isButtonEmpty:function(e){switch(b.nodeName(e)){case"input":return!e.value||""===e.value.trim();case"button":return""===e.textContent.trim()}return null},isPassiveEventSupported:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});c.addEventListener("testPassive",null,t),c.removeEventListener("testPassive",null,t)}catch(e){}return e}(),isColorAttrSupported:!(!(t=c.document.createElement("input")).setAttribute||(t.setAttribute("type","color"),"color"!=t.type.toLowerCase())),dataProp:"_data_jscolor",setData:function(){var e=arguments[0];if(3===arguments.length)return(r=e.hasOwnProperty(b.dataProp)?e[b.dataProp]:e[b.dataProp]={})[t=arguments[1]]=arguments[2],!0;if(2!==arguments.length||"object"!=typeof arguments[1])throw new Error("Invalid arguments");var t,r=e.hasOwnProperty(b.dataProp)?e[b.dataProp]:e[b.dataProp]={},n=arguments[1];for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return!0},removeData:function(){var e=arguments[0];if(!e.hasOwnProperty(b.dataProp))return!0;for(var t=1;t<arguments.length;t+=1)delete e[b.dataProp][arguments[t]];return!0},getData:function(e,t,r){if(!e.hasOwnProperty(b.dataProp)){if(void 0===r)return;e[b.dataProp]={}}e=e[b.dataProp];return e.hasOwnProperty(t)||void 0===r||(e[t]=r),e[t]},getDataAttr:function(e,t){return e.getAttribute("data-"+t)},setDataAttr:function(e,t,r){e.setAttribute("data-"+t,r)},_attachedGroupEvents:{},attachGroupEvent:function(e,t,r,n){b._attachedGroupEvents.hasOwnProperty(e)||(b._attachedGroupEvents[e]=[]),b._attachedGroupEvents[e].push([t,r,n]),t.addEventListener(r,n,!1)},detachGroupEvents:function(e){if(b._attachedGroupEvents.hasOwnProperty(e)){for(var t=0;t<b._attachedGroupEvents[e].length;t+=1){var r=b._attachedGroupEvents[e][t];r[0].removeEventListener(r[1],r[2],!1)}delete b._attachedGroupEvents[e]}},preventDefault:function(e){e.preventDefault&&e.preventDefault(),e.returnValue=!1},triggerEvent:function(e,t,r,n){var o;if(e)return o=null,"function"==typeof Event?o=new Event(t,{bubbles:r,cancelable:n}):(o=c.document.createEvent("Event")).initEvent(t,r,n),!!o&&(b.setData(o,"internal",!0),e.dispatchEvent(o),!0)},triggerInputEvent:function(e,t,r,n){e&&b.isTextInput(e)&&b.triggerEvent(e,t,r,n)},eventKey:function(e){var t={9:"Tab",13:"Enter",27:"Escape"};return"string"==typeof e.code?e.code:void 0!==e.keyCode&&t.hasOwnProperty(e.keyCode)?t[e.keyCode]:null},strList:function(e){return e?e.replace(/^\s+|\s+$/g,"").split(/\s+/):[]},hasClass:function(e,t){return!!t&&(void 0!==e.classList?e.classList.contains(t):-1!=(" "+e.className.replace(/\s+/g," ")+" ").indexOf(" "+t+" "))},addClass:function(e,t){var r=b.strList(t);if(void 0!==e.classList)for(var n=0;n<r.length;n+=1)e.classList.add(r[n]);else for(n=0;n<r.length;n+=1)b.hasClass(e,r[n])||(e.className+=(e.className?" ":"")+r[n])},removeClass:function(e,t){var r=b.strList(t);if(void 0!==e.classList)for(var n=0;n<r.length;n+=1)e.classList.remove(r[n]);else for(n=0;n<r.length;n+=1){var o=new RegExp("^\\s*"+r[n]+"\\s*|\\s*"+r[n]+"\\s*$|\\s+"+r[n]+"(\\s+)","g");e.className=e.className.replace(o,"$1")}},getCompStyle:function(e){e=c.getComputedStyle?c.getComputedStyle(e):e.currentStyle;return e||{}},setStyle:function(e,t,r,n){var o,i,a=r?"important":"",s=null;for(o in t)t.hasOwnProperty(o)&&((i=null)===t[o]?(s=s||b.getData(e,"origStyle"))&&s.hasOwnProperty(o)&&(i=s[o]):(n&&!(s=s||b.getData(e,"origStyle",{})).hasOwnProperty(o)&&(s[o]=e.style[o]),i=t[o]),null!==i&&e.style.setProperty(o,i,a))},appendCss:function(e){var t=document.querySelector("head"),r=document.createElement("style");r.innerText=e,t.appendChild(r)},appendDefaultCss:function(e){b.appendCss([".jscolor-wrap, .jscolor-wrap div, .jscolor-wrap canvas { position:static; display:block; visibility:visible; overflow:visible; margin:0; padding:0; border:none; border-radius:0; outline:none; z-index:auto; float:none; width:auto; height:auto; left:auto; right:auto; top:auto; bottom:auto; min-width:0; min-height:0; max-width:none; max-height:none; background:none; clip:auto; opacity:1; transform:none; box-shadow:none; box-sizing:content-box; }",".jscolor-wrap { clear:both; }",".jscolor-wrap .jscolor-picker { position:relative; }",".jscolor-wrap .jscolor-shadow { position:absolute; left:0; top:0; width:100%; height:100%; }",".jscolor-wrap .jscolor-border { position:relative; }",".jscolor-wrap .jscolor-palette { position:absolute; }",".jscolor-wrap .jscolor-palette-sw { position:absolute; display:block; cursor:pointer; }",".jscolor-wrap .jscolor-btn { position:absolute; overflow:hidden; white-space:nowrap; font:13px sans-serif; text-align:center; cursor:pointer; }"].join("\n"))},hexColor:function(e,t,r){return"#"+(("0"+Math.round(e).toString(16)).slice(-2)+("0"+Math.round(t).toString(16)).slice(-2)+("0"+Math.round(r).toString(16)).slice(-2)).toUpperCase()},hexaColor:function(e,t,r,n){return"#"+(("0"+Math.round(e).toString(16)).slice(-2)+("0"+Math.round(t).toString(16)).slice(-2)+("0"+Math.round(r).toString(16)).slice(-2)+("0"+Math.round(255*n).toString(16)).slice(-2)).toUpperCase()},rgbColor:function(e,t,r){return"rgb("+Math.round(e)+","+Math.round(t)+","+Math.round(r)+")"},rgbaColor:function(e,t,r,n){return"rgba("+Math.round(e)+","+Math.round(t)+","+Math.round(r)+","+Math.round(100*(null==n?1:n))/100+")"},linearGradient:(e=function(){for(var e="linear-gradient",t=["","-webkit-","-moz-","-o-","-ms-"],r=c.document.createElement("div"),n=0;n<t.length;n+=1){var o=t[n]+e;if(r.style.background=o+"(to right, rgba(0,0,0,0), rgba(0,0,0,0))",r.style.background)return o}return e}(),function(){return e+"("+Array.prototype.join.call(arguments,", ")+")"}),setBorderRadius:function(e,t){b.setStyle(e,{"border-radius":t||"0"})},setBoxShadow:function(e,t){b.setStyle(e,{"box-shadow":t||"none"})},getElementPos:function(e,t){var r=0,n=0,e=e.getBoundingClientRect(),r=e.left,n=e.top;return t||(r+=(e=b.getViewPos())[0],n+=e[1]),[r,n]},getElementSize:function(e){return[e.offsetWidth,e.offsetHeight]},getAbsPointerPos:function(e){var t=0,r=0;return void 0!==e.changedTouches&&e.changedTouches.length?(t=e.changedTouches[0].clientX,r=e.changedTouches[0].clientY):"number"==typeof e.clientX&&(t=e.clientX,r=e.clientY),{x:t,y:r}},getRelPointerPos:function(e){var t=(e.target||e.srcElement).getBoundingClientRect(),r=0,n=0;return void 0!==e.changedTouches&&e.changedTouches.length?(r=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY):"number"==typeof e.clientX&&(r=e.clientX,n=e.clientY),{x:r-t.left,y:n-t.top}},getViewPos:function(){var e=c.document.documentElement;return[(c.pageXOffset||e.scrollLeft)-(e.clientLeft||0),(c.pageYOffset||e.scrollTop)-(e.clientTop||0)]},getViewSize:function(){var e=c.document.documentElement;return[c.innerWidth||e.clientWidth,c.innerHeight||e.clientHeight]},RGB_HSV:function(e,t,r){e/=255,t/=255,r/=255;var n=Math.min(Math.min(e,t),r),o=Math.max(Math.max(e,t),r),i=o-n;if(0==i)return[null,0,100*o];n=e===n?3+(r-t)/i:t===n?5+(e-r)/i:1+(t-e)/i;return[60*(6==n?0:n),i/o*100,100*o]},HSV_RGB:function(e,t,r){var n=r/100*255;if(null===e)return[n,n,n];e/=60,t/=100;var r=Math.floor(e),o=n*(1-t),i=n*(1-t*(r%2?e-r:1-(e-r)));switch(r){case 6:case 0:return[n,i,o];case 1:return[i,n,o];case 2:return[o,n,i];case 3:return[o,i,n];case 4:return[i,o,n];case 5:return[n,o,i]}},parseColorString:function(e){var t={rgba:null,format:null};if(i=e.match(/^\W*([0-9A-F]{3,8})\W*$/i)){if(8===i[1].length)t.format="hexa",t.rgba=[parseInt(i[1].slice(0,2),16),parseInt(i[1].slice(2,4),16),parseInt(i[1].slice(4,6),16),parseInt(i[1].slice(6,8),16)/255];else if(6===i[1].length)t.format="hex",t.rgba=[parseInt(i[1].slice(0,2),16),parseInt(i[1].slice(2,4),16),parseInt(i[1].slice(4,6),16),null];else{if(3!==i[1].length)return!1;t.format="hex",t.rgba=[parseInt(i[1].charAt(0)+i[1].charAt(0),16),parseInt(i[1].charAt(1)+i[1].charAt(1),16),parseInt(i[1].charAt(2)+i[1].charAt(2),16),null]}return t}if(i=e.match(/^\W*rgba?\(([^)]*)\)\W*$/i)){var r,n,o,e=i[1].split(","),i=/^\s*(\d+|\d*\.\d+|\d+\.\d*)\s*$/;if(3<=e.length&&(o=e[0].match(i))&&(r=e[1].match(i))&&(n=e[2].match(i)))return t.format="rgb",t.rgba=[parseFloat(o[1])||0,parseFloat(r[1])||0,parseFloat(n[1])||0,null],4<=e.length&&(o=e[3].match(i))&&(t.format="rgba",t.rgba[3]=parseFloat(o[1])||0),t}return!1},parsePaletteValue:function(e){for(var t=[],r=("string"==typeof e?e.replace(/#[0-9A-F]{3}\b|#[0-9A-F]{6}([0-9A-F]{2})?\b|rgba?\(([^)]*)\)/gi,function(e){t.push(e)}):Array.isArray(e)&&(t=e),[]),n=0;n<t.length;n++){var o=b.parseColorString(t[n]);o&&r.push(o)}return r},containsTranparentColor:function(e){for(var t=0;t<e.length;t++){var r=e[t].rgba[3];if(null!==r&&r<1)return!0}return!1},isAlphaFormat:function(e){switch(e.toLowerCase()){case"hexa":case"rgba":return!0}return!1},scaleCanvasForHighDPR:function(e){var t=c.devicePixelRatio||1;e.width*=t,e.height*=t,e.getContext("2d").scale(t,t)},genColorPreviewCanvas:function(e,t,r,n){var o=Math.round(b.pub.previewSeparator.length),i=b.pub.chessboardSize,a=b.pub.chessboardColor1,s=b.pub.chessboardColor2,l=r||2*i,h=2*i,r=b.createEl("canvas"),d=r.getContext("2d");r.width=l,r.height=h,n&&b.scaleCanvasForHighDPR(r),d.fillStyle=a,d.fillRect(0,0,l,h),d.fillStyle=s;for(var p=0;p<l;p+=2*i)d.fillRect(p,0,i,i),d.fillRect(p+i,i,i,i);e&&(d.fillStyle=e,d.fillRect(0,0,l,h));var c=null;switch(t){case"left":d.clearRect(c=0,0,o/2,h);break;case"right":c=l-o,d.clearRect(l-o/2,0,o/2,h)}if(null!==c){d.lineWidth=1;for(var u=0;u<b.pub.previewSeparator.length;u+=1)d.beginPath(),d.strokeStyle=b.pub.previewSeparator[u],d.moveTo(.5+c+u,0),d.lineTo(.5+c+u,h),d.stroke()}return{canvas:r,width:l,height:h}},genColorPreviewGradient:function(e,t,r){var n=[],n=t&&r?["to "+{left:"right",right:"left"}[t],e+" 0%",e+" "+r+"px","rgba(0,0,0,0) "+(r+1)+"px","rgba(0,0,0,0) 100%"]:["to right",e+" 0%",e+" 100%"];return b.linearGradient.apply(this,n)},redrawPosition:function(){if(b.picker&&b.picker.owner){var e=b.picker.owner;if(e.container!==c.document.body)b._drawPosition(e,0,0,"relative",!1);else{var t,r,n,o,i=e.fixed?(t=b.getElementPos(e.targetElement,!0),[0,0]):(t=b.getElementPos(e.targetElement),b.getViewPos()),a=b.getElementSize(e.targetElement),s=b.getViewSize(),l=b.getPickerDims(e),l=[l.borderW,l.borderH];switch(e.position.toLowerCase()){case"left":n=0,o=-(r=1);break;case"right":n=0,o=r=1;break;case"top":r=0,o=-(n=1);break;default:r=0,o=n=1}var h=(a[n]+l[n])/2,s=(i=e.smartPosition?[-i[r]+t[r]+l[r]>s[r]&&-i[r]+t[r]+a[r]/2>s[r]/2&&0<=t[r]+a[r]-l[r]?t[r]+a[r]-l[r]:t[r],-i[n]+t[n]+a[n]+l[n]-h+h*o>s[n]?-i[n]+t[n]+a[n]/2>s[n]/2&&0<=t[n]+a[n]-h-h*o?t[n]+a[n]-h-h*o:t[n]+a[n]-h+h*o:0<=t[n]+a[n]-h+h*o?t[n]+a[n]-h+h*o:t[n]+a[n]-h-h*o]:[t[r],t[n]+a[n]-h+h*o])[r],h=i[n],d=e.fixed?"fixed":"absolute",i=(i[0]+l[0]>t[0]||i[0]<t[0]+a[0])&&i[1]+l[1]<t[1]+a[1];b._drawPosition(e,s,h,d,i)}}},_drawPosition:function(e,t,r,n,o){o=o?0:e.shadowBlur;b.picker.wrap.style.position=n,Math.round(parseFloat(b.picker.wrap.style.left))===Math.round(t)&&Math.round(parseFloat(b.picker.wrap.style.top))===Math.round(r)||(b.picker.wrap.style.left=t+"px",b.picker.wrap.style.top=r+"px"),b.setBoxShadow(b.picker.boxS,e.shadow?new b.BoxShadow(0,o,e.shadowBlur,0,e.shadowColor):null)},getPickerDims:function(e){var t=2*e.controlBorderWidth+e.width,r=2*e.controlBorderWidth+e.height,n=2*e.controlBorderWidth+2*b.getControlPadding(e)+e.sliderSize,n=(b.getSliderChannel(e)&&(t+=n),e.hasAlphaChannel()&&(t+=n),b.getPaletteDims(e,t)),o=(n.height&&(r+=n.height+e.padding),e.closeButton&&(r+=2*e.controlBorderWidth+e.padding+e.buttonHeight),t+2*e.padding),i=r+2*e.padding;return{contentW:t,contentH:r,paddedW:o,paddedH:i,borderW:o+2*e.borderWidth,borderH:i+2*e.borderWidth,palette:n}},getPaletteDims:function(e,t){var r=0,n=0,o=0,i=0,a=0,s=e._palette?e._palette.length:0;return s&&(n=0<(r=e.paletteCols)?Math.ceil(s/r):0,o=Math.max(1,Math.floor((t-(r-1)*e.paletteSpacing)/r)),i=e.paletteHeight?Math.min(e.paletteHeight,o):o),{cols:r,rows:n,cellW:o,cellH:i,width:t,height:a=n?n*i+(n-1)*e.paletteSpacing:a}},getControlPadding:function(e){return Math.max(e.padding/2,2*e.pointerBorderWidth+e.pointerThickness-e.controlBorderWidth)},getPadYChannel:function(e){return"v"===e.mode.charAt(1).toLowerCase()?"v":"s"},getSliderChannel:function(e){if(2<e.mode.length)switch(e.mode.charAt(2).toLowerCase()){case"s":return"s";case"v":return"v"}return null},triggerCallback:function(e,t){if(e[t]){var r=null;if("string"==typeof e[t])try{r=new Function(e[t])}catch(e){console.error(e)}else r=e[t];r&&r.call(e)}},triggerGlobal:function(e){for(var t=b.getInstances(),r=0;r<t.length;r+=1)t[r].trigger(e)},_pointerMoveEvent:{mouse:"mousemove",touch:"touchmove"},_pointerEndEvent:{mouse:"mouseup",touch:"touchend"},_pointerOrigin:null,onDocumentKeyUp:function(e){-1!==["Tab","Escape"].indexOf(b.eventKey(e))&&b.picker&&b.picker.owner&&b.picker.owner.tryHide()},onWindowResize:function(e){b.redrawPosition()},onWindowScroll:function(e){b.redrawPosition()},onParentScroll:function(e){b.picker&&b.picker.owner&&b.picker.owner.tryHide()},onDocumentMouseDown:function(e){var t=e.target||e.srcElement;t.jscolor&&t.jscolor instanceof b.pub?t.jscolor.showOnClick&&!t.disabled&&t.jscolor.show():b.getData(t,"gui")?b.getData(t,"control")&&b.onControlPointerStart(e,t,b.getData(t,"control"),"mouse"):b.picker&&b.picker.owner&&b.picker.owner.tryHide()},onPickerTouchStart:function(e){var t=e.target||e.srcElement;b.getData(t,"control")&&b.onControlPointerStart(e,t,b.getData(t,"control"),"touch")},onControlPointerStart:function(r,n,o,i){function e(e,t){b.attachGroupEvent("drag",e,b._pointerMoveEvent[i],b.onDocumentPointerMove(r,n,o,i,t)),b.attachGroupEvent("drag",e,b._pointerEndEvent[i],b.onDocumentPointerEnd(r,n,o,i))}var t=b.getData(n,"instance"),a=(b.preventDefault(r),e(c.document,[0,0]),c.parent&&c.frameElement&&(a=[-(a=c.frameElement.getBoundingClientRect()).left,-a.top],e(c.parent.window.document,a)),b.getAbsPointerPos(r)),s=b.getRelPointerPos(r);switch(b._pointerOrigin={x:a.x-s.x,y:a.y-s.y},o){case"pad":"v"===b.getSliderChannel(t)&&0===t.channels.v&&t.fromHSVA(null,null,100,null),b.setPad(t,r,0,0);break;case"sld":b.setSld(t,r,0);break;case"asld":b.setASld(t,r,0)}t.trigger("input")},onDocumentPointerMove:function(e,r,n,t,o){return function(e){var t=b.getData(r,"instance");switch(n){case"pad":b.setPad(t,e,o[0],o[1]);break;case"sld":b.setSld(t,e,o[1]);break;case"asld":b.setASld(t,e,o[1])}t.trigger("input")}},onDocumentPointerEnd:function(e,r,t,n){return function(e){var t=b.getData(r,"instance");b.detachGroupEvents("drag"),t.trigger("input"),t.trigger("change")}},onPaletteSampleClick:function(e){var e=e.currentTarget,t=b.getData(e,"instance"),e=b.getData(e,"color");"any"===t.format.toLowerCase()&&(t._setFormat(e.format),b.isAlphaFormat(t.getFormat())||(e.rgba[3]=1)),null===e.rgba[3]&&(!0===t.paletteSetsAlpha||"auto"===t.paletteSetsAlpha&&t._paletteHasTransparency)&&(e.rgba[3]=1),t.fromRGBA.apply(t,e.rgba),t.trigger("input"),t.trigger("change"),t.hideOnPaletteClick&&t.hide()},setPad:function(e,t,r,n){var t=b.getAbsPointerPos(t),r=r+t.x-b._pointerOrigin.x-e.padding-e.controlBorderWidth,n=n+t.y-b._pointerOrigin.y-e.padding-e.controlBorderWidth,o=r*(360/(e.width-1)),i=100-n*(100/(e.height-1));switch(b.getPadYChannel(e)){case"s":e.fromHSVA(o,i,null,null);break;case"v":e.fromHSVA(o,null,i,null)}},setSld:function(e,t,r){var n=100-(r+b.getAbsPointerPos(t).y-b._pointerOrigin.y-e.padding-e.controlBorderWidth)*(100/(e.height-1));switch(b.getSliderChannel(e)){case"s":e.fromHSVA(null,n,null,null);break;case"v":e.fromHSVA(null,null,n,null)}},setASld:function(e,t,r){r=1-(r+b.getAbsPointerPos(t).y-b._pointerOrigin.y-e.padding-e.controlBorderWidth)*(1/(e.height-1));r<1&&(t=e.getFormat(),"any"!==e.format.toLowerCase()||b.isAlphaFormat(t)||e._setFormat("hex"===t?"hexa":"rgba")),e.fromHSVA(null,null,null,r)},createPadCanvas:function(){var e={elm:null,draw:null},o=b.createEl("canvas"),i=o.getContext("2d");return e.elm=o,e.draw=function(e,t,r){o.width=e,o.height=t,i.clearRect(0,0,o.width,o.height);var e=i.createLinearGradient(0,0,o.width,0),n=(e.addColorStop(0,"#F00"),e.addColorStop(1/6,"#FF0"),e.addColorStop(2/6,"#0F0"),e.addColorStop(.5,"#0FF"),e.addColorStop(4/6,"#00F"),e.addColorStop(5/6,"#F0F"),e.addColorStop(1,"#F00"),i.fillStyle=e,i.fillRect(0,0,o.width,o.height),i.createLinearGradient(0,0,0,o.height));switch(r.toLowerCase()){case"s":n.addColorStop(0,"rgba(255,255,255,0)"),n.addColorStop(1,"rgba(255,255,255,1)");break;case"v":n.addColorStop(0,"rgba(0,0,0,0)"),n.addColorStop(1,"rgba(0,0,0,1)")}i.fillStyle=n,i.fillRect(0,0,o.width,o.height)},e},createSliderGradient:function(){var e={elm:null,draw:null},o=b.createEl("canvas"),i=o.getContext("2d");return e.elm=o,e.draw=function(e,t,r,n){o.width=e,o.height=t,i.clearRect(0,0,o.width,o.height);e=i.createLinearGradient(0,0,0,o.height);e.addColorStop(0,r),e.addColorStop(1,n),i.fillStyle=e,i.fillRect(0,0,o.width,o.height)},e},createASliderGradient:function(){var e={elm:null,draw:null},a=b.createEl("canvas"),s=a.getContext("2d");return e.elm=a,e.draw=function(e,t,r){a.width=e,a.height=t,s.clearRect(0,0,a.width,a.height);var n=a.width/2,e=b.pub.chessboardColor1,o=b.pub.chessboardColor2;if(s.fillStyle=e,s.fillRect(0,0,a.width,a.height),0<n)for(var i=0;i<a.height;i+=2*n)s.fillStyle=o,s.fillRect(0,i,n,n),s.fillRect(n,i+n,n,n);t=s.createLinearGradient(0,0,0,a.height);t.addColorStop(0,r),t.addColorStop(1,"rgba(0,0,0,0)"),s.fillStyle=t,s.fillRect(0,0,a.width,a.height)},e},BoxShadow:(r.prototype.toString=function(){var e=[Math.round(this.hShadow)+"px",Math.round(this.vShadow)+"px",Math.round(this.blur)+"px",Math.round(this.spread)+"px",this.color];return this.inset&&e.push("inset"),e.join(" ")},r),flags:{leaveValue:1,leaveAlpha:2,leavePreview:4},enumOpts:{format:["auto","any","hex","hexa","rgb","rgba"],previewPosition:["left","right"],mode:["hsv","hvs","hs","hv"],position:["left","right","top","bottom"],alphaChannel:["auto",!0,!1],paletteSetsAlpha:["auto",!0,!1]},deprecatedOpts:{styleElement:"previewElement",onFineChange:"onInput",overwriteImportant:"forceStyle",closable:"closeButton",insetWidth:"controlBorderWidth",insetColor:"controlBorderColor",refine:null},docsRef:" See https://jscolor.com/docs/",pub:function(e,t){var g=this;function a(e,t){if("string"!=typeof e)throw new Error("Invalid value for option name: "+e);if(b.enumOpts.hasOwnProperty(e)&&("string"==typeof t&&(t=t.toLowerCase()),-1===b.enumOpts[e].indexOf(t)))throw new Error("Option '"+e+"' has invalid value: "+t);if(b.deprecatedOpts.hasOwnProperty(e)){var r=e,n=b.deprecatedOpts[e];if(!n)throw new Error("Option '"+e+"' is DEPRECATED");console.warn("Option '%s' is DEPRECATED, using '%s' instead."+b.docsRef,r,n),e=n}r="set__"+e;if("function"==typeof g[r])return g[r](t),1;if(e in g)return g[e]=t,1;throw new Error("Unrecognized configuration option: "+e)}function r(){g._processParentElementsInDOM(),b.picker||(b.picker={owner:null,wrap:b.createEl("div"),box:b.createEl("div"),boxS:b.createEl("div"),boxB:b.createEl("div"),pad:b.createEl("div"),padB:b.createEl("div"),padM:b.createEl("div"),padCanvas:b.createPadCanvas(),cross:b.createEl("div"),crossBY:b.createEl("div"),crossBX:b.createEl("div"),crossLY:b.createEl("div"),crossLX:b.createEl("div"),sld:b.createEl("div"),sldB:b.createEl("div"),sldM:b.createEl("div"),sldGrad:b.createSliderGradient(),sldPtrS:b.createEl("div"),sldPtrIB:b.createEl("div"),sldPtrMB:b.createEl("div"),sldPtrOB:b.createEl("div"),asld:b.createEl("div"),asldB:b.createEl("div"),asldM:b.createEl("div"),asldGrad:b.createASliderGradient(),asldPtrS:b.createEl("div"),asldPtrIB:b.createEl("div"),asldPtrMB:b.createEl("div"),asldPtrOB:b.createEl("div"),pal:b.createEl("div"),btn:b.createEl("div"),btnT:b.createEl("div")},b.picker.pad.appendChild(b.picker.padCanvas.elm),b.picker.padB.appendChild(b.picker.pad),b.picker.cross.appendChild(b.picker.crossBY),b.picker.cross.appendChild(b.picker.crossBX),b.picker.cross.appendChild(b.picker.crossLY),b.picker.cross.appendChild(b.picker.crossLX),b.picker.padB.appendChild(b.picker.cross),b.picker.box.appendChild(b.picker.padB),b.picker.box.appendChild(b.picker.padM),b.picker.sld.appendChild(b.picker.sldGrad.elm),b.picker.sldB.appendChild(b.picker.sld),b.picker.sldB.appendChild(b.picker.sldPtrOB),b.picker.sldPtrOB.appendChild(b.picker.sldPtrMB),b.picker.sldPtrMB.appendChild(b.picker.sldPtrIB),b.picker.sldPtrIB.appendChild(b.picker.sldPtrS),b.picker.box.appendChild(b.picker.sldB),b.picker.box.appendChild(b.picker.sldM),b.picker.asld.appendChild(b.picker.asldGrad.elm),b.picker.asldB.appendChild(b.picker.asld),b.picker.asldB.appendChild(b.picker.asldPtrOB),b.picker.asldPtrOB.appendChild(b.picker.asldPtrMB),b.picker.asldPtrMB.appendChild(b.picker.asldPtrIB),b.picker.asldPtrIB.appendChild(b.picker.asldPtrS),b.picker.box.appendChild(b.picker.asldB),b.picker.box.appendChild(b.picker.asldM),b.picker.box.appendChild(b.picker.pal),b.picker.btn.appendChild(b.picker.btnT),b.picker.box.appendChild(b.picker.btn),b.picker.boxB.appendChild(b.picker.box),b.picker.wrap.appendChild(b.picker.boxS),b.picker.wrap.appendChild(b.picker.boxB),b.picker.wrap.addEventListener("touchstart",b.onPickerTouchStart,!!b.isPassiveEventSupported&&{passive:!1}));for(var e=b.picker,t=!!b.getSliderChannel(g),r=g.hasAlphaChannel(),n=b.getPickerDims(g),o=2*g.pointerBorderWidth+g.pointerThickness+2*g.crossSize,i=b.getControlPadding(g),a=Math.min(g.borderRadius,Math.round(g.padding*Math.PI)),s=(e.wrap.className="jscolor-wrap",e.wrap.style.width=n.borderW+"px",e.wrap.style.height=n.borderH+"px",e.wrap.style.zIndex=g.zIndex,e.box.className="jscolor-picker",e.box.style.width=n.paddedW+"px",e.box.style.height=n.paddedH+"px",e.boxS.className="jscolor-shadow",b.setBorderRadius(e.boxS,a+"px"),e.boxB.className="jscolor-border",e.boxB.style.border=g.borderWidth+"px solid",e.boxB.style.borderColor=g.borderColor,e.boxB.style.background=g.backgroundColor,b.setBorderRadius(e.boxB,a+"px"),e.padM.style.background="rgba(255,0,0,.2)",e.sldM.style.background="rgba(0,255,0,.2)",e.asldM.style.background="rgba(0,0,255,.2)",e.padM.style.opacity=e.sldM.style.opacity=e.asldM.style.opacity="0",e.pad.style.position="relative",e.pad.style.width=g.width+"px",e.pad.style.height=g.height+"px",e.padCanvas.draw(g.width,g.height,b.getPadYChannel(g)),e.padB.style.position="absolute",e.padB.style.left=g.padding+"px",e.padB.style.top=g.padding+"px",e.padB.style.border=g.controlBorderWidth+"px solid",e.padB.style.borderColor=g.controlBorderColor,e.padM.style.position="absolute",e.padM.style.left="0px",e.padM.style.top="0px",e.padM.style.width=g.padding+2*g.controlBorderWidth+g.width+i+"px",e.padM.style.height=2*g.controlBorderWidth+2*g.padding+g.height+"px",e.padM.style.cursor="crosshair",b.setData(e.padM,{instance:g,control:"pad"}),e.cross.style.position="absolute",e.cross.style.left=e.cross.style.top="0",e.cross.style.width=e.cross.style.height=o+"px",e.crossBY.style.position=e.crossBX.style.position="absolute",e.crossBY.style.background=e.crossBX.style.background=g.pointerBorderColor,e.crossBY.style.width=e.crossBX.style.height=2*g.pointerBorderWidth+g.pointerThickness+"px",e.crossBY.style.height=e.crossBX.style.width=o+"px",e.crossBY.style.left=e.crossBX.style.top=Math.floor(o/2)-Math.floor(g.pointerThickness/2)-g.pointerBorderWidth+"px",e.crossBY.style.top=e.crossBX.style.left="0",e.crossLY.style.position=e.crossLX.style.position="absolute",e.crossLY.style.background=e.crossLX.style.background=g.pointerColor,e.crossLY.style.height=e.crossLX.style.width=o-2*g.pointerBorderWidth+"px",e.crossLY.style.width=e.crossLX.style.height=g.pointerThickness+"px",e.crossLY.style.left=e.crossLX.style.top=Math.floor(o/2)-Math.floor(g.pointerThickness/2)+"px",e.crossLY.style.top=e.crossLX.style.left=g.pointerBorderWidth+"px",e.sld.style.overflow="hidden",e.sld.style.width=g.sliderSize+"px",e.sld.style.height=g.height+"px",e.sldGrad.draw(g.sliderSize,g.height,"#000","#000"),e.sldB.style.display=t?"block":"none",e.sldB.style.position="absolute",e.sldB.style.left=g.padding+g.width+2*g.controlBorderWidth+2*i+"px",e.sldB.style.top=g.padding+"px",e.sldB.style.border=g.controlBorderWidth+"px solid",e.sldB.style.borderColor=g.controlBorderColor,e.sldM.style.display=t?"block":"none",e.sldM.style.position="absolute",e.sldM.style.left=g.padding+g.width+2*g.controlBorderWidth+i+"px",e.sldM.style.top="0px",e.sldM.style.width=g.sliderSize+2*i+2*g.controlBorderWidth+(r?0:Math.max(0,g.padding-i))+"px",e.sldM.style.height=2*g.controlBorderWidth+2*g.padding+g.height+"px",e.sldM.style.cursor="default",b.setData(e.sldM,{instance:g,control:"sld"}),e.sldPtrIB.style.border=e.sldPtrOB.style.border=g.pointerBorderWidth+"px solid "+g.pointerBorderColor,e.sldPtrOB.style.position="absolute",e.sldPtrOB.style.left=-(2*g.pointerBorderWidth+g.pointerThickness)+"px",e.sldPtrOB.style.top="0",e.sldPtrMB.style.border=g.pointerThickness+"px solid "+g.pointerColor,e.sldPtrS.style.width=g.sliderSize+"px",e.sldPtrS.style.height=b.pub.sliderInnerSpace+"px",e.asld.style.overflow="hidden",e.asld.style.width=g.sliderSize+"px",e.asld.style.height=g.height+"px",e.asldGrad.draw(g.sliderSize,g.height,"#000"),e.asldB.style.display=r?"block":"none",e.asldB.style.position="absolute",e.asldB.style.left=g.padding+g.width+2*g.controlBorderWidth+i+(t?g.sliderSize+3*i+2*g.controlBorderWidth:0)+"px",e.asldB.style.top=g.padding+"px",e.asldB.style.border=g.controlBorderWidth+"px solid",e.asldB.style.borderColor=g.controlBorderColor,e.asldM.style.display=r?"block":"none",e.asldM.style.position="absolute",e.asldM.style.left=g.padding+g.width+2*g.controlBorderWidth+i+(t?g.sliderSize+2*i+2*g.controlBorderWidth:0)+"px",e.asldM.style.top="0px",e.asldM.style.width=g.sliderSize+2*i+2*g.controlBorderWidth+Math.max(0,g.padding-i)+"px",e.asldM.style.height=2*g.controlBorderWidth+2*g.padding+g.height+"px",e.asldM.style.cursor="default",b.setData(e.asldM,{instance:g,control:"asld"}),e.asldPtrIB.style.border=e.asldPtrOB.style.border=g.pointerBorderWidth+"px solid "+g.pointerBorderColor,e.asldPtrOB.style.position="absolute",e.asldPtrOB.style.left=-(2*g.pointerBorderWidth+g.pointerThickness)+"px",e.asldPtrOB.style.top="0",e.asldPtrMB.style.border=g.pointerThickness+"px solid "+g.pointerColor,e.asldPtrS.style.width=g.sliderSize+"px",e.asldPtrS.style.height=b.pub.sliderInnerSpace+"px",e.pal.className="jscolor-palette",e.pal.style.display=n.palette.rows?"block":"none",e.pal.style.left=g.padding+"px",e.pal.style.top=2*g.controlBorderWidth+2*g.padding+g.height+"px",e.pal.innerHTML="",b.genColorPreviewCanvas("rgba(0,0,0,0)")),l=0,h=0;h<n.palette.rows;h++)for(var d=0;d<n.palette.cols&&l<g._palette.length;d++,l++){var p=g._palette[l],c=b.rgbaColor.apply(null,p.rgba),u=b.createEl("div"),c=(u.style.width=n.palette.cellW-2*g.controlBorderWidth+"px",u.style.height=n.palette.cellH-2*g.controlBorderWidth+"px",u.style.backgroundColor=c,b.createEl("div"));c.className="jscolor-palette-sw",c.style.left=(n.palette.cols<=1?0:Math.round(d*((n.contentW-n.palette.cellW)/(n.palette.cols-1))*10)/10)+"px",c.style.top=h*(n.palette.cellH+g.paletteSpacing)+"px",c.style.border=g.controlBorderWidth+"px solid",c.style.borderColor=g.controlBorderColor,null!==p.rgba[3]&&p.rgba[3]<1&&(c.style.backgroundImage="url('"+s.canvas.toDataURL()+"')",c.style.backgroundRepeat="repeat",c.style.backgroundPosition="center center"),b.setData(c,{instance:g,control:"palette-sw",color:p}),c.addEventListener("click",b.onPaletteSampleClick,!1),c.appendChild(u),e.pal.appendChild(c)}e.btn.className="jscolor-btn jscolor-btn-close",e.btn.style.display=g.closeButton?"block":"none",e.btn.style.left=g.padding+"px",e.btn.style.bottom=g.padding+"px",e.btn.style.padding="0 15px",e.btn.style.maxWidth=n.contentW-2*g.controlBorderWidth-30+"px",e.btn.style.height=g.buttonHeight+"px",e.btn.style.border=g.controlBorderWidth+"px solid",a=(a=g.controlBorderColor.split(/\s+/)).length<2?a[0]:a[1]+" "+a[0]+" "+a[0]+" "+a[1],e.btn.style.borderColor=a,e.btn.style.color=g.buttonColor,e.btn.onmousedown=function(){g.hide()},e.btnT.style.display="inline",e.btnT.style.lineHeight=g.buttonHeight+"px",e.btnT.innerText=g.closeText,f(),v(),m(),b.picker.owner&&b.picker.owner!==g&&b.removeClass(b.picker.owner.targetElement,b.pub.activeClassName),b.picker.owner=g,b.redrawPosition(),e.wrap.parentNode!==g.container&&g.container.appendChild(e.wrap),b.addClass(g.targetElement,b.pub.activeClassName)}function f(){var e=b.getPadYChannel(g),t=Math.round(g.channels.h/360*(g.width-1)),e=Math.round((1-g.channels[e]/100)*(g.height-1)),r=2*g.pointerBorderWidth+g.pointerThickness+2*g.crossSize,r=-Math.floor(r/2);switch(b.picker.cross.style.left=t+r+"px",b.picker.cross.style.top=e+r+"px",b.getSliderChannel(g)){case"s":var n=b.HSV_RGB(g.channels.h,100,g.channels.v),o=b.HSV_RGB(g.channels.h,0,g.channels.v),n="rgb("+Math.round(n[0])+","+Math.round(n[1])+","+Math.round(n[2])+")",o="rgb("+Math.round(o[0])+","+Math.round(o[1])+","+Math.round(o[2])+")";b.picker.sldGrad.draw(g.sliderSize,g.height,n,o);break;case"v":var i=b.HSV_RGB(g.channels.h,g.channels.s,100),n="rgb("+Math.round(i[0])+","+Math.round(i[1])+","+Math.round(i[2])+")",o="#000";b.picker.sldGrad.draw(g.sliderSize,g.height,n,o)}b.picker.asldGrad.draw(g.sliderSize,g.height,g.toHEXString())}function v(){var e=b.getSliderChannel(g);e&&(e=Math.round((1-g.channels[e]/100)*(g.height-1)),b.picker.sldPtrOB.style.top=e-(2*g.pointerBorderWidth+g.pointerThickness)-Math.floor(b.pub.sliderInnerSpace/2)+"px"),b.picker.asldGrad.draw(g.sliderSize,g.height,g.toHEXString())}function m(){var e=Math.round((1-g.channels.a)*(g.height-1));b.picker.asldPtrOB.style.top=e-(2*g.pointerBorderWidth+g.pointerThickness)-Math.floor(b.pub.sliderInnerSpace/2)+"px"}function n(){return b.picker&&b.picker.owner===g}if(t=t||{},this.channels={r:255,g:255,b:255,h:0,s:0,v:100,a:1},this.format="auto",this.value=void 0,this.alpha=void 0,this.random=!1,this.onChange=void 0,this.onInput=void 0,this.valueElement=void 0,this.alphaElement=void 0,this.previewElement=void 0,this.previewPosition="left",this.previewSize=32,this.previewPadding=8,this.required=!0,this.hash=!0,this.uppercase=!0,this.forceStyle=!0,this.width=181,this.height=101,this.mode="HSV",this.alphaChannel="auto",this.position="bottom",this.smartPosition=!0,this.showOnClick=!0,this.hideOnLeave=!0,this.palette=[],this.paletteCols=10,this.paletteSetsAlpha="auto",this.paletteHeight=16,this.paletteSpacing=4,this.hideOnPaletteClick=!1,this.sliderSize=16,this.crossSize=8,this.closeButton=!1,this.closeText="Close",this.buttonColor="rgba(0,0,0,1)",this.buttonHeight=18,this.padding=12,this.backgroundColor="rgba(255,255,255,1)",this.borderWidth=1,this.borderColor="rgba(187,187,187,1)",this.borderRadius=8,this.controlBorderWidth=1,this.controlBorderColor="rgba(187,187,187,1)",this.shadow=!0,this.shadowBlur=15,this.shadowColor="rgba(0,0,0,0.2)",this.pointerColor="rgba(76,76,76,1)",this.pointerBorderWidth=1,this.pointerBorderColor="rgba(255,255,255,1)",this.pointerThickness=2,this.zIndex=5e3,this.container=void 0,this.minS=0,this.maxS=100,this.minV=0,this.maxV=100,this.minA=0,this.maxA=1,this.option=function(){if(!arguments.length)throw new Error("No option specified");if(1===arguments.length&&"string"==typeof arguments[0]){try{var e=arguments[0];if("string"!=typeof e)throw new Error("Invalid value for option name: "+e);if(b.deprecatedOpts.hasOwnProperty(e)){var t=e,r=b.deprecatedOpts[e];if(!r)throw new Error("Option '"+e+"' is DEPRECATED");console.warn("Option '%s' is DEPRECATED, using '%s' instead."+b.docsRef,t,r),e=r}if("function"==typeof g[t="get__"+e])return g[t](value);if(e in g)return g[e];throw new Error("Unrecognized configuration option: "+e)}catch(e){console.warn(e)}return!1}if(2<=arguments.length&&"string"==typeof arguments[0]){try{if(!a(arguments[0],arguments[1]))return!1}catch(e){return console.warn(e),!1}return this.redraw(),this.exposeColor(),!0}if(1!==arguments.length||"object"!=typeof arguments[0])throw new Error("Invalid arguments");var n,o=arguments[0],i=!0;for(n in o)if(o.hasOwnProperty(n))try{a(n,o[n])||(i=!1)}catch(e){console.warn(e),i=!1}return this.redraw(),this.exposeColor(),i},this.channel=function(e,t){if("string"!=typeof e)throw new Error("Invalid value for channel name: "+e);if(void 0===t)return this.channels.hasOwnProperty(e.toLowerCase())?this.channels[e.toLowerCase()]:(console.warn("Getting unknown channel: "+e),!1);var r=!1;switch(e.toLowerCase()){case"r":r=this.fromRGBA(t,null,null,null);break;case"g":r=this.fromRGBA(null,t,null,null);break;case"b":r=this.fromRGBA(null,null,t,null);break;case"h":r=this.fromHSVA(t,null,null,null);break;case"s":r=this.fromHSVA(null,t,null,null);break;case"v":r=this.fromHSVA(null,null,t,null);break;case"a":r=this.fromHSVA(null,null,null,t);break;default:return console.warn("Setting unknown channel: "+e),!1}return!!r&&(this.redraw(),!0)},this.trigger=function(e){for(var t=b.strList(e),r=0;r<t.length;r+=1){var n=t[r].toLowerCase(),o=null;switch(n){case"input":o="onInput";break;case"change":o="onChange"}o&&b.triggerCallback(this,o),b.triggerInputEvent(this.valueElement,n,!0,!0)}},this.fromHSVA=function(e,t,r,n,o){if(void 0===t&&(t=null),void 0===r&&(r=null),void 0===n&&(n=null),null!==(e=void 0===e?null:e)){if(isNaN(e))return!1;this.channels.h=Math.max(0,Math.min(360,e))}if(null!==t){if(isNaN(t))return!1;this.channels.s=Math.max(0,Math.min(100,this.maxS,t),this.minS)}if(null!==r){if(isNaN(r))return!1;this.channels.v=Math.max(0,Math.min(100,this.maxV,r),this.minV)}if(null!==n){if(isNaN(n))return!1;this.channels.a=this.hasAlphaChannel()?Math.max(0,Math.min(1,this.maxA,n),this.minA):1}e=b.HSV_RGB(this.channels.h,this.channels.s,this.channels.v);return this.channels.r=e[0],this.channels.g=e[1],this.channels.b=e[2],this.exposeColor(o),!0},this.fromRGBA=function(e,t,r,n,o){if(void 0===t&&(t=null),void 0===r&&(r=null),void 0===n&&(n=null),null!==(e=void 0===e?null:e)){if(isNaN(e))return!1;e=Math.max(0,Math.min(255,e))}if(null!==t){if(isNaN(t))return!1;t=Math.max(0,Math.min(255,t))}if(null!==r){if(isNaN(r))return!1;r=Math.max(0,Math.min(255,r))}if(null!==n){if(isNaN(n))return!1;this.channels.a=this.hasAlphaChannel()?Math.max(0,Math.min(1,this.maxA,n),this.minA):1}n=b.RGB_HSV(null===e?this.channels.r:e,null===t?this.channels.g:t,null===r?this.channels.b:r),null!==n[0]&&(this.channels.h=Math.max(0,Math.min(360,n[0]))),0!==n[2]&&(this.channels.s=Math.max(0,this.minS,Math.min(100,this.maxS,n[1]))),this.channels.v=Math.max(0,this.minV,Math.min(100,this.maxV,n[2])),e=b.HSV_RGB(this.channels.h,this.channels.s,this.channels.v);return this.channels.r=e[0],this.channels.g=e[1],this.channels.b=e[2],this.exposeColor(o),!0},this.fromHSV=function(e,t,r,n){return console.warn("fromHSV() method is DEPRECATED. Using fromHSVA() instead."+b.docsRef),this.fromHSVA(e,t,r,null,n)},this.fromRGB=function(e,t,r,n){return console.warn("fromRGB() method is DEPRECATED. Using fromRGBA() instead."+b.docsRef),this.fromRGBA(e,t,r,null,n)},this.fromString=function(e,t){if(!this.required&&""===e.trim())return this.setPreviewElementBg(null),this.setValueElementValue(""),!0;e=b.parseColorString(e);return!!e&&("any"===this.format.toLowerCase()&&(this._setFormat(e.format),b.isAlphaFormat(this.getFormat())||(e.rgba[3]=1)),this.fromRGBA(e.rgba[0],e.rgba[1],e.rgba[2],e.rgba[3],t),!0)},this.randomize=function(e,t,r,n,o,i,a,s){void 0===e&&(e=0),void 0===t&&(t=100),void 0===r&&(r=0),void 0===n&&(n=100),void 0===i&&(i=359),void 0===a&&(a=1),void 0===s&&(s=1),this.fromHSVA((o=void 0===o?0:o)+Math.floor(Math.random()*(i-o+1)),r+Math.floor(Math.random()*(n-r+1)),e+Math.floor(Math.random()*(t-e+1)),(100*a+Math.floor(Math.random()*(100*(s-a)+1)))/100)},this.toString=function(e){switch((e=void 0===e?this.getFormat():e).toLowerCase()){case"hex":return this.toHEXString();case"hexa":return this.toHEXAString();case"rgb":return this.toRGBString();case"rgba":return this.toRGBAString()}return!1},this.toHEXString=function(){return b.hexColor(this.channels.r,this.channels.g,this.channels.b)},this.toHEXAString=function(){return b.hexaColor(this.channels.r,this.channels.g,this.channels.b,this.channels.a)},this.toRGBString=function(){return b.rgbColor(this.channels.r,this.channels.g,this.channels.b)},this.toRGBAString=function(){return b.rgbaColor(this.channels.r,this.channels.g,this.channels.b,this.channels.a)},this.toGrayscale=function(){return.213*this.channels.r+.715*this.channels.g+.072*this.channels.b},this.toCanvas=function(){return b.genColorPreviewCanvas(this.toRGBAString()).canvas},this.toDataURL=function(){return this.toCanvas().toDataURL()},this.toBackground=function(){return b.pub.background(this.toRGBAString())},this.isLight=function(){return 127.5<this.toGrayscale()},this.hide=function(){n()&&(b.removeClass(g.targetElement,b.pub.activeClassName),b.picker.wrap.parentNode.removeChild(b.picker.wrap),delete b.picker.owner)},this.show=function(){r()},this.redraw=function(){n()&&r()},this.getFormat=function(){return this._currentFormat},this._setFormat=function(e){this._currentFormat=e.toLowerCase()},this.hasAlphaChannel=function(){return"auto"===this.alphaChannel?"any"===this.format.toLowerCase()||b.isAlphaFormat(this.getFormat())||void 0!==this.alpha||void 0!==this.alphaElement:this.alphaChannel},this.processValueInput=function(e){this.fromString(e)||this.exposeColor()},this.processAlphaInput=function(e){this.fromHSVA(null,null,null,parseFloat(e))||this.exposeColor()},this.exposeColor=function(e){var t=this.toString(),r=this.getFormat();b.setDataAttr(this.targetElement,"current-color",t),e&b.flags.leaveValue||!this.valueElement||("hex"!==r&&"hexa"!==r||(this.uppercase||(t=t.toLowerCase()),this.hash||(t=t.replace(/^#/,""))),this.setValueElementValue(t)),e&b.flags.leaveAlpha||!this.alphaElement||(r=Math.round(100*this.channels.a)/100,this.setAlphaElementValue(r)),e&b.flags.leavePreview||!this.previewElement||((b.isTextInput(this.previewElement)||b.isButton(this.previewElement)&&!b.isButtonEmpty(this.previewElement))&&this.previewPosition,this.setPreviewElementBg(this.toRGBAString())),n()&&(f(),v(),m())},this.setPreviewElementBg=function(e){if(this.previewElement){for(var t=null,r=null,n=((b.isTextInput(this.previewElement)||b.isButton(this.previewElement)&&!b.isButtonEmpty(this.previewElement))&&(t=this.previewPosition,r=this.previewSize),[]),o=(e?(n.push({image:b.genColorPreviewGradient(e,t,r?r-b.pub.previewSeparator.length:null),position:"left top",size:"auto",repeat:t?"repeat-y":"repeat",origin:"padding-box"}),e=b.genColorPreviewCanvas("rgba(0,0,0,0)",t?{left:"right",right:"left"}[t]:null,r,!0),n.push({image:"url('"+e.canvas.toDataURL()+"')",position:(t||"left")+" top",size:e.width+"px "+e.height+"px",repeat:t?"repeat-y":"repeat",origin:"padding-box"})):n.push({image:"none",position:"left top",size:"auto",repeat:"no-repeat",origin:"padding-box"}),{image:[],position:[],size:[],repeat:[],origin:[]}),i=0;i<n.length;i+=1)o.image.push(n[i].image),o.position.push(n[i].position),o.size.push(n[i].size),o.repeat.push(n[i].repeat),o.origin.push(n[i].origin);r={"background-image":o.image.join(", "),"background-position":o.position.join(", "),"background-size":o.size.join(", "),"background-repeat":o.repeat.join(", "),"background-origin":o.origin.join(", ")},e=(b.setStyle(this.previewElement,r,this.forceStyle),{left:null,right:null}),r=(t&&(e[t]=this.previewSize+this.previewPadding+"px"),{"padding-left":e.left,"padding-right":e.right});b.setStyle(this.previewElement,r,this.forceStyle,!0)}},this.setValueElementValue=function(e){this.valueElement&&("input"===b.nodeName(this.valueElement)?this.valueElement.value=e:this.valueElement.innerHTML=e)},this.setAlphaElementValue=function(e){this.alphaElement&&("input"===b.nodeName(this.alphaElement)?this.alphaElement.value=e:this.alphaElement.innerHTML=e)},this._processParentElementsInDOM=function(){if(!this._parentElementsProcessed){this._parentElementsProcessed=!0;var e=this.targetElement;do{var t=b.getCompStyle(e)}while(t.position&&"fixed"===t.position.toLowerCase()&&(this.fixed=!0),e===this.targetElement||b.getData(e,"hasScrollListener")||(e.addEventListener("scroll",b.onParentScroll,!1),b.setData(e,"hasScrollListener",!0)),(e=e.parentNode)&&"body"!==b.nodeName(e))}},this.tryHide=function(){this.hideOnLeave&&this.hide()},this.set__palette=function(e){this.palette=e,this._palette=b.parsePaletteValue(e),this._paletteHasTransparency=b.containsTranparentColor(this._palette)},b.pub.options)for(var o in b.pub.options)if(b.pub.options.hasOwnProperty(o))try{a(o,b.pub.options[o])}catch(e){console.warn(e)}var i=[];t.preset&&("string"==typeof t.preset?i=t.preset.split(/\s+/):Array.isArray(t.preset)?i=t.preset.slice():console.warn("Unrecognized preset value")),-1===i.indexOf("default")&&i.push("default");for(var s=i.length-1;0<=s;--s){var l=i[s];if(l)if(b.pub.presets.hasOwnProperty(l)){for(var o in b.pub.presets[l])if(b.pub.presets[l].hasOwnProperty(o))try{a(o,b.pub.presets[l][o])}catch(e){console.warn(e)}}else console.warn("Unknown preset: %s",l)}var h=["preset"];for(o in t)if(t.hasOwnProperty(o)&&-1===h.indexOf(o))try{a(o,t[o])}catch(e){console.warn(e)}if(void 0===this.container?this.container=c.document.body:this.container=b.node(this.container),!this.container)throw new Error("Cannot instantiate color picker without a container element");if(this.targetElement=b.node(e),!this.targetElement){if("string"==typeof e&&/^[a-zA-Z][\w:.-]*$/.test(e))throw new Error("If '"+e+"' is supposed to be an ID, please use '#"+e+"' or any valid CSS selector.");throw new Error("Cannot instantiate color picker without a target element")}if(this.targetElement.jscolor&&this.targetElement.jscolor instanceof b.pub)throw new Error("Color picker already installed on this element");this.targetElement.jscolor=this,b.addClass(this.targetElement,b.pub.className),b.instances.push(this),b.isButton(this.targetElement)&&("button"!==this.targetElement.type.toLowerCase()&&(this.targetElement.type="button"),b.isButtonEmpty(this.targetElement)&&(b.removeChildren(this.targetElement),this.targetElement.appendChild(c.document.createTextNode(" ")),e=b.getCompStyle(this.targetElement),(parseFloat(e["min-width"])||0)<this.previewSize&&b.setStyle(this.targetElement,{"min-width":this.previewSize+"px"},this.forceStyle))),void 0===this.valueElement?b.isTextInput(this.targetElement)&&(this.valueElement=this.targetElement):null!==this.valueElement&&(this.valueElement=b.node(this.valueElement)),this.alphaElement&&(this.alphaElement=b.node(this.alphaElement)),void 0===this.previewElement?this.previewElement=this.targetElement:null!==this.previewElement&&(this.previewElement=b.node(this.previewElement)),this.valueElement&&b.isTextInput(this.valueElement)&&(e={onInput:this.valueElement.oninput},this.valueElement.oninput=null,this.valueElement.addEventListener("keydown",function(e){"Enter"===b.eventKey(e)&&(g.valueElement&&g.processValueInput(g.valueElement.value),g.tryHide())},!1),this.valueElement.addEventListener("change",function(e){b.getData(e,"internal")||(e=g.valueElement.value,g.processValueInput(g.valueElement.value),b.triggerCallback(g,"onChange"),g.valueElement.value!==e&&b.triggerInputEvent(g.valueElement,"change",!0,!0))},!1),this.valueElement.addEventListener("input",function(e){b.getData(e,"internal")||(g.valueElement&&g.fromString(g.valueElement.value,b.flags.leaveValue),b.triggerCallback(g,"onInput"))},!1),e.onInput&&this.valueElement.addEventListener("input",e.onInput,!1),this.valueElement.setAttribute("autocomplete","off"),this.valueElement.setAttribute("autocorrect","off"),this.valueElement.setAttribute("autocapitalize","off"),this.valueElement.setAttribute("spellcheck",!1)),this.alphaElement&&b.isTextInput(this.alphaElement)&&(this.alphaElement.addEventListener("keydown",function(e){"Enter"===b.eventKey(e)&&(g.alphaElement&&g.processAlphaInput(g.alphaElement.value),g.tryHide())},!1),this.alphaElement.addEventListener("change",function(e){b.getData(e,"internal")||(e=g.alphaElement.value,g.processAlphaInput(g.alphaElement.value),b.triggerCallback(g,"onChange"),b.triggerInputEvent(g.valueElement,"change",!0,!0),g.alphaElement.value!==e&&b.triggerInputEvent(g.alphaElement,"change",!0,!0))},!1),this.alphaElement.addEventListener("input",function(e){b.getData(e,"internal")||(g.alphaElement&&g.fromHSVA(null,null,null,parseFloat(g.alphaElement.value),b.flags.leaveAlpha),b.triggerCallback(g,"onInput"),b.triggerInputEvent(g.valueElement,"input",!0,!0))},!1),this.alphaElement.setAttribute("autocomplete","off"),this.alphaElement.setAttribute("autocorrect","off"),this.alphaElement.setAttribute("autocapitalize","off"),this.alphaElement.setAttribute("spellcheck",!1));var d,e="FFFFFF",p=(void 0!==this.value?e=this.value:this.valueElement&&void 0!==this.valueElement.value&&(e=this.valueElement.value),void 0);void 0!==this.alpha?p=""+this.alpha:this.alphaElement&&void 0!==this.alphaElement.value&&(p=this.alphaElement.value),this._currentFormat=null,-1<["auto","any"].indexOf(this.format.toLowerCase())?(d=b.parseColorString(e),this._currentFormat=d?d.format:"hex"):this._currentFormat=this.format.toLowerCase(),this.processValueInput(e),void 0!==p&&this.processAlphaInput(p),this.random&&this.randomize.apply(this,Array.isArray(this.random)?this.random:[])}}).pub.className="jscolor",b.pub.activeClassName="jscolor-active",b.pub.looseJSON=!0,b.pub.presets={},b.pub.presets.default={},b.pub.presets.light={backgroundColor:"rgba(255,255,255,1)",controlBorderColor:"rgba(187,187,187,1)",buttonColor:"rgba(0,0,0,1)"},b.pub.presets.dark={backgroundColor:"rgba(51,51,51,1)",controlBorderColor:"rgba(153,153,153,1)",buttonColor:"rgba(240,240,240,1)"},b.pub.presets.small={width:101,height:101,padding:10,sliderSize:14,paletteCols:8},b.pub.presets.medium={width:181,height:101,padding:12,sliderSize:16,paletteCols:10},b.pub.presets.large={width:271,height:151,padding:12,sliderSize:24,paletteCols:15},b.pub.presets.thin={borderWidth:1,controlBorderWidth:1,pointerBorderWidth:1},b.pub.presets.thick={borderWidth:2,controlBorderWidth:2,pointerBorderWidth:2},b.pub.sliderInnerSpace=3,b.pub.chessboardSize=8,b.pub.chessboardColor1="#666666",b.pub.chessboardColor2="#999999",b.pub.previewSeparator=["rgba(255,255,255,.65)","rgba(128,128,128,.65)"],b.pub.init=function(){if(!b.initialized)for(c.document.addEventListener("mousedown",b.onDocumentMouseDown,!1),c.document.addEventListener("keyup",b.onDocumentKeyUp,!1),c.addEventListener("resize",b.onWindowResize,!1),c.addEventListener("scroll",b.onWindowScroll,!1),b.appendDefaultCss(),b.pub.install(),b.initialized=!0;b.readyQueue.length;)b.readyQueue.shift()()},b.pub.install=function(e){var t=!0;try{b.installBySelector("[data-jscolor]",e)}catch(e){t=!1,console.warn(e)}if(b.pub.lookupClass)try{b.installBySelector("input."+b.pub.lookupClass+", button."+b.pub.lookupClass,e)}catch(e){}return t},b.pub.ready=function(e){return"function"!=typeof e?(console.warn("Passed value is not a function"),!1):(b.initialized?e():b.readyQueue.push(e),!0)},b.pub.trigger=function(e){function t(){b.triggerGlobal(e)}b.initialized?t():b.pub.ready(t)},b.pub.hide=function(){b.picker&&b.picker.owner&&b.picker.owner.hide()},b.pub.chessboard=function(e){return b.genColorPreviewCanvas(e=e||"rgba(0,0,0,0)").canvas.toDataURL()},b.pub.background=function(e){var t=[],e=(t.push(b.genColorPreviewGradient(e)),b.genColorPreviewCanvas());return t.push(["url('"+e.canvas.toDataURL()+"')","left top","repeat"].join(" ")),t.join(", ")},b.pub.options={},b.pub.lookupClass="jscolor",b.pub.installByClassName=function(){return console.error('jscolor.installByClassName() is DEPRECATED. Use data-jscolor="" attribute instead of a class name.'+b.docsRef),!1},b.register();var e,b,t=b.pub;function r(e,t,r,n,o,i){this.hShadow=e,this.vShadow=t,this.blur=r,this.spread=n,this.color=o,this.inset=!!i}return void 0===c.jscolor&&(c.jscolor=c.JSColor=t),t});
