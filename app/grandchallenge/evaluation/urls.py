from django.urls import path

from grandchallenge.evaluation.views import (
    AlgorithmInterfaceForPhaseCreate,
    AlgorithmInterfaceForPhaseDelete,
    AlgorithmInterfacesForPhaseList,
    CombinedLeaderboardCreate,
    CombinedLeaderboardDelete,
    CombinedLeaderboardDetail,
    CombinedLeaderboardUpdate,
    ConfigureAlgorithmPhasesView,
    EvaluationAdminList,
    EvaluationCreate,
    EvaluationDetail,
    EvaluationGroundTruthCreate,
    EvaluationGroundTruthDetail,
    EvaluationGroundTruthImportStatusDetail,
    EvaluationGroundTruthList,
    EvaluationGroundTruthUpdate,
    EvaluationGroundTruthVersionManagement,
    EvaluationIncompleteJobsDetail,
    EvaluationList,
    EvaluationStatusDetail,
    EvaluationUpdate,
    LeaderboardDetail,
    LeaderboardRedirect,
    MethodCreate,
    MethodDetail,
    MethodImportStatusDetail,
    MethodList,
    MethodUpdate,
    PhaseAlgorithmCreate,
    PhaseArchiveInfo,
    PhaseCreate,
    PhaseUpdate,
    SubmissionCreate,
    SubmissionDetail,
    SubmissionList,
)

app_name = "evaluation"

urlpatterns = [
    path("<uuid:pk>/", EvaluationDetail.as_view(), name="detail"),
    path(
        "<uuid:pk>/status/",
        EvaluationStatusDetail.as_view(),
        name="status-detail",
    ),
    path(
        "<uuid:pk>/incomplete-jobs/",
        EvaluationIncompleteJobsDetail.as_view(),
        name="evaluation-incomplete-jobs-detail",
    ),
    # UUID should be matched before slugs
    path("<uuid:pk>/update/", EvaluationUpdate.as_view(), name="update"),
    path("phase/create/", PhaseCreate.as_view(), name="phase-create"),
    path(
        "configure-algorithm-phases/",
        ConfigureAlgorithmPhasesView.as_view(),
        name="configure-algorithm-phases",
    ),
    path("submissions/", SubmissionList.as_view(), name="submission-list"),
    path(
        "combined-leaderboards/create/",
        CombinedLeaderboardCreate.as_view(),
        name="combined-leaderboard-create",
    ),
    path(
        "combined-leaderboards/<slug:slug>/",
        CombinedLeaderboardDetail.as_view(),
        name="combined-leaderboard-detail",
    ),
    path(
        "combined-leaderboards/<slug:slug>/update/",
        CombinedLeaderboardUpdate.as_view(),
        name="combined-leaderboard-update",
    ),
    path(
        "combined-leaderboards/<slug:slug>/delete/",
        CombinedLeaderboardDelete.as_view(),
        name="combined-leaderboard-delete",
    ),
    path("<slug:slug>/", EvaluationList.as_view(), name="list"),
    path(
        "<slug:slug>/admin/",
        EvaluationAdminList.as_view(),
        name="evaluation-admin-list",
    ),
    path(
        "<slug:slug>/algorithms/create/",
        PhaseAlgorithmCreate.as_view(),
        name="phase-algorithm-create",
    ),
    path(
        "<slug:slug>/interfaces/",
        AlgorithmInterfacesForPhaseList.as_view(),
        name="interface-list",
    ),
    path(
        "<slug:slug>/interfaces/create/",
        AlgorithmInterfaceForPhaseCreate.as_view(),
        name="interface-create",
    ),
    path(
        "<slug:slug>/interfaces/<uuid:interface_pk>/delete/",
        AlgorithmInterfaceForPhaseDelete.as_view(),
        name="interface-delete",
    ),
    path(
        "<slug:slug>/linked-archive/",
        PhaseArchiveInfo.as_view(),
        name="phase-archive-info",
    ),
    path(
        "<slug:slug>/ground-truths/",
        EvaluationGroundTruthList.as_view(),
        name="ground-truth-list",
    ),
    path(
        "<slug:slug>/ground-truths/activate/",
        EvaluationGroundTruthVersionManagement.as_view(activate=True),
        name="ground-truth-activate",
    ),
    path(
        "<slug:slug>/ground-truths/create/",
        EvaluationGroundTruthCreate.as_view(),
        name="ground-truth-create",
    ),
    path(
        "<slug:slug>/ground-truths/deactivate/",
        EvaluationGroundTruthVersionManagement.as_view(activate=False),
        name="ground-truth-deactivate",
    ),
    path(
        "<slug:slug>/ground-truths/<uuid:pk>/",
        EvaluationGroundTruthDetail.as_view(),
        name="ground-truth-detail",
    ),
    path(
        "<slug:slug>/ground-truths/<uuid:pk>/import-status/",
        EvaluationGroundTruthImportStatusDetail.as_view(),
        name="ground-truth-import-status-detail",
    ),
    path(
        "<slug:slug>/ground-truths/<uuid:pk>/update/",
        EvaluationGroundTruthUpdate.as_view(),
        name="ground-truth-update",
    ),
    path(
        "<slug:slug>/leaderboard/",
        LeaderboardDetail.as_view(),
        name="leaderboard",
    ),
    path("<slug:slug>/methods/", MethodList.as_view(), name="method-list"),
    path(
        "<slug:slug>/methods/create/",
        MethodCreate.as_view(),
        name="method-create",
    ),
    path(
        "<slug:slug>/methods/<uuid:pk>/",
        MethodDetail.as_view(),
        name="method-detail",
    ),
    path(
        "<slug:slug>/methods/<uuid:pk>/import-status/",
        MethodImportStatusDetail.as_view(),
        name="method-import-status-detail",
    ),
    path(
        "<slug:slug>/methods/<uuid:pk>/update/",
        MethodUpdate.as_view(),
        name="method-update",
    ),
    path(
        "<slug:slug>/submissions/create/",
        SubmissionCreate.as_view(),
        name="submission-create",
    ),
    path(
        "<slug:slug>/submissions/<uuid:pk>/",
        SubmissionDetail.as_view(),
        name="submission-detail",
    ),
    path(
        "<slug:slug>/submissions/<uuid:pk>/evaluations/create/",
        EvaluationCreate.as_view(),
        name="evaluation-create",
    ),
    path("<slug:slug>/update/", PhaseUpdate.as_view(), name="phase-update"),
    path("results/", LeaderboardRedirect.as_view()),
    path("leaderboard/", LeaderboardRedirect.as_view()),
]
